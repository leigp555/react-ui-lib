"use strict";(self.webpackChunkuix_react=self.webpackChunkuix_react||[]).push([[8899],{7328:function(n,t,a){a.d(t,{z:function(){return o}});a(2791);var e=a(4070),i=a(6920),s=a(184);e.TU.setOptions({highlight:function(n,t){var a=i.Z.getLanguage(t)?t:"plaintext";return i.Z.highlight(n,{language:a}).value},langPrefix:"hljs language-",gfm:!0});var o=function(n){var t=n.code;return(0,s.jsx)("div",{className:"showCode",dangerouslySetInnerHTML:{__html:(0,e.TU)(t,{breaks:!0})}})}},8899:function(n,t,a){a.r(t),a.d(t,{default:function(){return v}});var e=a(2791),i=a(5268),s=a(184),o=function(){return(0,s.jsxs)(i.ZT,{children:[(0,s.jsx)(i.Dx,{level:3,children:"\u7b80\u4ecb"}),(0,s.jsx)(i.nv,{children:(0,s.jsx)("p",{children:"\u901a\u7528\u5217\u8868\u3002"})}),(0,s.jsx)(i.Dx,{level:3,children:"\u7ec4\u4ef6\u6982\u89c8"}),(0,s.jsx)(i.nv,{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"List: \u4e3b\u8981\u7ec4\u4ef6"}),(0,s.jsx)("li",{children:"ListItem: \u5b50\u7ec4\u4ef6"})]})}),(0,s.jsx)(i.Dx,{level:3,children:"\u4f7f\u7528\u573a\u666f"}),(0,s.jsx)(i.nv,{children:(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"\u6700\u57fa\u7840\u7684\u5217\u8868\u5c55\u793a\uff0c\u53ef\u627f\u8f7d\u6587\u5b57\u3001\u5217\u8868\u3001\u56fe\u7247\u3001\u6bb5\u843d\uff0c\u5e38\u7528\u4e8e\u540e\u53f0\u6570\u636e\u5c55\u793a\u9875\u9762\u3002"})})})]})},r=a(2982),d=a(885),l=function(n){for(var t=[],a=0;a<n;a++)t.push({id:a,avatar:"https://joeschmoe.io/api/v1/random",title:"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",description:"Accusantium ad ducimus eos et\n      exercitationem facilis itaque molestias necessitatibus odio, quod ratione rem similique\n      voluptatum? Distinctio ipsam nostrum nulla quibusdam sed."});return t},c=l(10),u=l(1e3),m=function(n,t,a){return new Promise((function(e){"/loadmore"===n?setTimeout((function(){e({status:200,data:c.slice(t,t+a),total:c.length})}),1e3):"/paginate"===n&&setTimeout((function(){e({status:200,data:u.slice(t,t+a),total:u.length})}),1e3)}))},h=function(){var n=(0,e.useState)([]),t=(0,d.Z)(n,2),a=t[0],o=t[1],l=(0,e.useState)(!1),c=(0,d.Z)(l,2),u=c[0],h=c[1],x=(0,e.useState)(!1),g=(0,d.Z)(x,2),f=g[0],p=g[1],j=(0,e.useState)([]),L=(0,d.Z)(j,2),v=L[0],k=L[1],C=(0,e.useState)(0),D=(0,d.Z)(C,2),b=D[0],F=D[1],M=(0,e.useState)(!1),Z=(0,d.Z)(M,2),I=Z[0],S=Z[1],z=(0,e.useState)(!1),B=(0,d.Z)(z,2),N=B[0],A=B[1];(0,e.useEffect)((function(){h(!0),m("/loadmore",0,5).then((function(n){h(!1),o((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(n.data))}))})),S(!0),m("/paginate",0,5).then((function(n){S(!1),F(n.total),k((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(n.data))}))}))}),[]);var T=(0,e.useCallback)((function(){h(!0),m("/loadmore",a.length,5).then((function(n){h(!1),n.data[0]?o((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(n.data))})):p(!0)}))}),[u]),q=(0,e.useCallback)((function(n){S(!0),m("/paginate",n,5).then((function(n){S(!1),n.data[0]?k((function(){return(0,r.Z)(n.data)})):A(!0)}))}),[]);return(0,s.jsxs)("div",{className:"Eg",children:[(0,s.jsx)(i.aV,{model:"pagination",perPage:5,totalData:b,paginateCallback:q,data:v,isLoading:I,isLoadFinish:N,renderItem:function(n){return(0,s.jsx)(i.HC,{avatar:(0,s.jsx)(i.qE,{src:n.avatar,size:32}),title:(0,s.jsx)("span",{children:n.title}),description:n.description,actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.zx,{radius:!0,onClick:function(){return console.log("item id",n.id)},children:"\u7f16\u8f91"}),(0,s.jsx)(i.zx,{radius:!0,onClick:function(){return console.log("item id",n.id)},children:"\u67e5\u770b"})]})},"".concat(Math.random()+n.id))}}),(0,s.jsx)(i.aV,{model:"loadMore",data:a,loadMoreCallback:T,isLoading:u,isLoadFinish:f,renderItem:function(n){return(0,s.jsx)(i.HC,{avatar:(0,s.jsx)(i.qE,{src:n.avatar,size:32}),title:(0,s.jsx)("span",{children:n.title}),description:n.description,actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.zx,{radius:!0,onClick:function(){return console.log("item id",n.id)},children:"\u7f16\u8f91"}),(0,s.jsx)(i.zx,{radius:!0,onClick:function(){return console.log("item id",n.id)},children:"\u67e5\u770b"})]})},"".concat(Math.random()+n.id))}}),(0,s.jsx)(i.aV,{model:"normal",data:a,loadMoreCallback:T,isLoading:u,isLoadFinish:f,renderItem:function(n){return(0,s.jsx)(i.HC,{avatar:(0,s.jsx)(i.qE,{src:n.avatar,size:32}),title:(0,s.jsx)("span",{children:n.title}),description:n.description,actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.zx,{radius:!0,onClick:function(){return console.log("item id",n.id)},children:"\u7f16\u8f91"}),(0,s.jsx)(i.zx,{radius:!0,onClick:function(){return console.log("item id",n.id)},children:"\u67e5\u770b"})]})},"".concat(Math.random()+n.id))}})]})},x=a(7328),g={header:["\u5c5e\u6027","\u8bf4\u660e","\u7c7b\u578b","\u9ed8\u8ba4\u503c"],body:[{"\u5c5e\u6027":"data","\u8bf4\u660e":"\u6570\u636e\u6e90","\u7c7b\u578b":"any","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"renderItem","\u8bf4\u660e":"\u81ea\u5b9a\u4e49\u6e32\u67d3\u6bcf\u4e00\u9879","\u7c7b\u578b":"Function","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"loadMoreCallback","\u8bf4\u660e":"\u52a0\u8f7d\u66f4\u591a\u65f6\u7684\u56de\u8c03\u51fd\u6570","\u7c7b\u578b":"Function","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"paginateCallback","\u8bf4\u660e":"\u5206\u9875\u6a21\u5f0f\u7684\u56de\u8c03\u51fd\u6570","\u7c7b\u578b":"Function","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"isLoadFinish","\u8bf4\u660e":"\u52a0\u8f7d\u5b8c\u6bd5","\u7c7b\u578b":"boolean","\u9ed8\u8ba4\u503c":"1"},{"\u5c5e\u6027":"model","\u8bf4\u660e":"\u6a21\u5f0f","\u7c7b\u578b":"'loadMore' | 'pagination' | 'normal'","\u9ed8\u8ba4\u503c":"normal"},{"\u5c5e\u6027":"totalData","\u8bf4\u660e":"\u6570\u636e\u603b\u6761\u6570","\u7c7b\u578b":"number","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"perPage","\u8bf4\u660e":"\u5206\u9875\u6a21\u5f0f\u6bcf\u9875\u591a\u5c11\u6761\u6570\u636e","\u7c7b\u578b":"number","\u9ed8\u8ba4\u503c":"10"}]},f={header:["\u5c5e\u6027","\u8bf4\u660e","\u7c7b\u578b","\u9ed8\u8ba4\u503c"],body:[{"\u5c5e\u6027":"avatar","\u8bf4\u660e":"\u5934\u50cf","\u7c7b\u578b":"ReactNode","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"title","\u8bf4\u660e":"\u6807\u9898","\u7c7b\u578b":"ReactNode","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"description","\u8bf4\u660e":"\u526f\u6807\u9898","\u7c7b\u578b":"ReactNode","\u9ed8\u8ba4\u503c":""},{"\u5c5e\u6027":"actions","\u8bf4\u660e":"\u64cd\u4f5c","\u7c7b\u578b":"ReactNode","\u9ed8\u8ba4\u503c":""}]},p=function(){return(0,s.jsxs)("div",{className:"interface",children:[(0,s.jsx)(i.Dx,{level:4,children:"List"}),(0,s.jsx)(i.iA,{data:g}),(0,s.jsx)(i.Dx,{level:4,children:"ListItem"}),(0,s.jsx)(i.iA,{data:f})]})},j=(a(9076),0),L=(0,a(5609).I)("\nimport { Avatar, Button, List, ListItem  } from 'uix-react';\n\nexport const App:React.RC=()=>{\nexport const Demo: React.FC = () => {\n  // \u6309\u94ae\u5f0f\u52a0\u8f7d\u66f4\u591a\n  const [data, setData] = useState<UserData[]>([]);\n  const [isLoading, setLoading] = useState(false);\n  const [isLoadFinish, setLoadFinish] = useState(false);\n  // \u5206\u9875\u5f0f\u52a0\u8f7d\u66f4\u591a\n  const [data2, setData2] = useState<UserData[]>([]);\n  const [totalData, setTotalData] = useState<number>(0);\n  const [isLoading2, setLoading2] = useState(false);\n  const [isLoadFinish2, setLoadFinish2] = useState(false);\n\n  // \u521d\u59cb\u5316\u6570\u636e\n  useEffect(() => {\n    // \u6309\u94ae\u65f6\u52a0\u8f7d\u521d\u59cb\u5316\u6570\u636e\n    setLoading(true);\n    ajax('/loadmore', 0, 5).then((res) => {\n      setLoading(false);\n      setData((state) => {\n        return [...state, ...res.data];\n      });\n    });\n    // \u5206\u9875\u5f0f\u52a0\u8f7d\u521d\u59cb\u5316\u6570\u636e\n    setLoading2(true);\n    ajax('/paginate', 0, 5).then((res) => {\n      setLoading2(false);\n      setTotalData(res.total);\n      setData2((state) => {\n        return [...state, ...res.data];\n      });\n    });\n  }, []);\n  // \u52a0\u8f7d\u66f4\u591a\u56de\u8c03\u51fd\u6570\n  const loadMore = useCallback(() => {\n    setLoading(true);\n    ajax('/loadmore', data.length, 5).then((res) => {\n      setLoading(false);\n      if (res.data[0]) {\n        setData((state) => {\n          return [...state, ...res.data];\n        });\n      } else {\n        setLoadFinish(true);\n      }\n    });\n  }, [isLoading]);\n  // \u5206\u9875\u7684\u51fd\u6570\u56de\u8c03\n  const paginateMore = useCallback((start: number) => {\n    setLoading2(true);\n    ajax('/paginate', start, 5).then((res) => {\n      setLoading2(false);\n      if (res.data[0]) {\n        setData2(() => {\n          return [...res.data];\n        });\n      } else {\n        setLoadFinish2(true);\n      }\n    });\n  }, []);\n  return (\n    <div className=\"Eg\">\n      <List\n        model=\"pagination\"\n        perPage={5} // \u8fd9\u4e2a\u6570\u636e\u6839\u636e\u6bcf\u6b21\u8bf7\u6c42\u591a\u5c11\u6761\u6570\u636e\u6765,\u4e0d\u80fd\u778e\u5199\u4e0d\u7136\u5206\u9875\u6570\u4f1a\u4e71\n        totalData={totalData}\n        paginateCallback={paginateMore}\n        data={data2}\n        isLoading={isLoading2}\n        isLoadFinish={isLoadFinish2}\n        renderItem={(item: UserData) => (\n          <ListItem\n            key={`".concat(Math.random()+j,"`}\n            avatar={<Avatar src={item.avatar} size={32} />}\n            title={<span>{item.title}</span>}\n            description={item.description}\n            actions={\n              <>\n                <Button radius onClick={() => console.log('item id', item.id)}>\n                  \u7f16\u8f91\n                </Button>\n                <Button radius onClick={() => console.log('item id', item.id)}>\n                  \u67e5\u770b\n                </Button>\n              </>\n            }\n          />\n        )}\n      />\n      <List\n        model=\"loadMore\"\n        data={data}\n        loadMoreCallback={loadMore}\n        isLoading={isLoading}\n        isLoadFinish={isLoadFinish}\n        renderItem={(item: UserData) => (\n          <ListItem\n            key={`").concat(Math.random()+j,"`}\n            avatar={<Avatar src={item.avatar} size={32} />}\n            title={<span>{item.title}</span>}\n            description={item.description}\n            actions={\n              <>\n                <Button radius onClick={() => console.log('item id', item.id)}>\n                  \u7f16\u8f91\n                </Button>\n                <Button radius onClick={() => console.log('item id', item.id)}>\n                  \u67e5\u770b\n                </Button>\n              </>\n            }\n          />\n        )}\n      />\n      <List\n        model=\"normal\"\n        data={data}\n        loadMoreCallback={loadMore}\n        isLoading={isLoading}\n        isLoadFinish={isLoadFinish}\n        renderItem={(item: UserData) => (\n          <ListItem\n            key={`").concat(Math.random()+j,"`}\n            avatar={<Avatar src={item.avatar} size={32} />}\n            title={<span>{item.title}</span>}\n            description={item.description}\n            actions={\n              <>\n                <Button radius onClick={() => console.log('item id', item.id)}>\n                  \u7f16\u8f91\n                </Button>\n                <Button radius onClick={() => console.log('item id', item.id)}>\n                  \u67e5\u770b\n                </Button>\n              </>\n            }\n          />\n        )}\n      />\n    </div>\n  );\n}\n")),v=function(){return(0,s.jsxs)("div",{className:"content-wrap",children:[(0,s.jsx)("h2",{className:"title",children:"List \u5217\u8868"}),(0,s.jsx)(o,{}),(0,s.jsx)(i.Dx,{level:3,children:"\u6848\u4f8b"}),(0,s.jsx)(h,{}),(0,s.jsx)(i.Dx,{level:3,children:"\u4ee3\u7801\u793a\u4f8b"}),(0,s.jsx)(x.z,{code:L}),(0,s.jsx)(i.Dx,{level:3,children:"\u63a5\u53e3"}),(0,s.jsx)(p,{})]})}},5609:function(n,t,a){a.d(t,{I:function(){return e}});var e=function(n){return"```javascript"+"".concat(n)+"\n```"}},9076:function(){}}]);
//# sourceMappingURL=8899.d5b0857d.chunk.js.map